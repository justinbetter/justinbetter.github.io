<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="UTF-8" />
  <title>Blog of Justin</title>
  <meta name="description" content="Some books of justin" />
  <meta name="author" content="justin" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <meta name="generator" content="kitab theme by Darshan in Hugo 0.69.0" />

  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous"
  />
  <link
    href="https://fonts.googleapis.com/css?family=Roboto&display=swap"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
    integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay"
    crossorigin="anonymous"
  />
  <link rel="stylesheet" href="/css/kitab.css" />

  <script src="/js/myFunctions.js"></script>
  <script src="/js/clipboard.min.js"></script>
</head>

  <body class="container" style="max-width: 1024px;">
    <nav class="mt-2 border-bottom">
  <div class="d-flex flex-row position-relative">
    <a href="/"
      ><i title="Home" class="nav-menu mr-2 mt-1 fas fa-home"></i
    ></a>
    <div class="position-relative">
  <i
    class="nav-menu hover-menu ml-2 mr-2 mt-1 fas fa-book"
    onclick="expandMenu(this)"
    title="Show all books"
  ></i>
  <div
    class="show bg-light shadow mt-2"
    style="position: absolute;
      min-width: 280px;
      max-width: 75%;
      z-index: 1;
      max-height: 0px;
      overflow: hidden;"
  >
    <div class="p-2">
      <strong>
        Blog
      </strong>
      <ul class="list-unstyled ml-1">
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%80%9D%E8%80%83/">
            思考
          </a>
          by justin
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/">
            技术
          </a>
          by justin
        </li>
        
      </ul>
    </div>
  </div>
</div>

    
    <div class="position-relative">
  <i
    class="nav-menu hover-menu ml-2 mr-2 mt-1 fas fa-bars"
    onclick="expandMenu(this)"
    title = "Show Chapters"
  ></i>
  <div
    class="show bg-light shadow mt-2"
    style="
      position: absolute;
      min-width: 280px;
      max-width: 75%;
      z-index: 1;
      max-height: 0px;
      overflow: hidden;"
  >
    <div class="p-2 rounded">
      <strong class="mt-3">
        
        
        技术
        
      </strong>
      <ul class="list-unstyled ml-1">
        
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/mysql/">mysql连招</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/redis/">redis连招</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/leetcode/">算法题目汇总</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/python-learn2/">写python脚本常用的函数</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/python-learn/">python基础</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/git-common/">git常用规范</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/linux-post/">Linux笔记</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/kafka/">Kafka机制一览</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/regexpression/">正则</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/mysqlproblem/">记录类型转换引起的索引失效</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/shell/">学会写shell脚本</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/kotlin/">记录一些kotlin的用法</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/designpattern/">常用的设计模式</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/cs-code2/">【cs基础】编译器的普及</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/cs-algorithm/">【cs基础】如何判断算法的好坏</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/cs-number/">【cs基础】浮点数的存储</a>
        </li>
        
        <li class="hanging">
          <a href="https://justinbetter.github.io/%E6%8A%80%E6%9C%AF/cs-code/">【cs基础】CPU是怎样执行代码的</a>
        </li>
        
      </ul>
    </div>
  </div>
</div>

    
  </div>
</nav>

    <main class="mt-3" style="margin-left: 32px;">
      
<div class="mb-2 p-3 shadow position-relative">
  <small
    class="bg-white pl-1 pr-1 rounded border border-secondary"
    style="background-color: #f3f3ef !important; position: absolute; top: -0.75em; left: 0.5em"
  >
    技术
  </small>
  <h2>学会写shell脚本</h2>
  <span style="display: block;opacity: 0.5">2018-03-01</span><br/>
  <div>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#运算符">运算符</a></li>
  </ul>
</nav>
  </div>
  <div class="rounded">
    <p>##shell是什么</p>
<pre><code>    Shell 是一个用C语言编写的程序，它是用户使用Linux的桥梁。
    Shell既是一种命令语言，又是一种程序设计语言，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。
</code></pre>
<p>##shell脚本是什么</p>
<ul>
<li>
<p>shell是为shell编写的脚本程序。</p>
</li>
<li>
<p>Bash是大多数Linux系统默认的Shell。</p>
<pre><code>  #! 告诉系统其后路径所指定的程序即是解释此脚本文件的Shell程序。
  如： #!/bin/bash
</code></pre>
</li>
<li>
<p>运行方法</p>
<pre><code>  第一种： 
  chmod +x ./test.sh  #使脚本具有执行
  ./test.sh  #执行脚本
  第二种：
  /bin/sh test.sh #运行解释器
</code></pre>
</li>
</ul>
<p>##变量</p>
<ul>
<li>
<p>使用变量</p>
<pre><code>  your_name=&quot;qinjx&quot;
  echo $your_name
  echo ${your_name} #花括号可加可不加
</code></pre>
</li>
<li>
<p>设置只读变量</p>
<pre><code>  myUrl=&quot;http://www.w3cschool.cc&quot;
  readonly myUrl
</code></pre>
</li>
<li>
<p>删除变量 unset</p>
</li>
</ul>
<p>##字符串</p>
<ul>
<li>
<p>获取长度</p>
<pre><code>  string=&quot;abcd&quot;
  echo ${#string} #输出 长度4
</code></pre>
</li>
<li>
<p>提取字符串</p>
<pre><code>  echo ${string:1:4}
</code></pre>
</li>
<li>
<p>查找index</p>
<pre><code>  string=&quot;runoob is a great company&quot;
  echo `expr index &quot;$string&quot; is`  # 输出 8
</code></pre>
</li>
</ul>
<p>##数组</p>
<ul>
<li>
<p>定义</p>
<pre><code>  array_name=(value0 value1 value2 value3)
</code></pre>
</li>
<li>
<p>读取</p>
<pre><code>  valuen=${array_name[n]}
  echo ${array_name[@]} #获取所有元素
</code></pre>
</li>
<li>
<p>获取长度</p>
<pre><code>  length=${#array_name[@]}	
  lengthn=${#array_name[n]}
</code></pre>
</li>
</ul>
<p>##脚本参数</p>
<ul>
<li>
<p>获取参数</p>
<pre><code>  脚本内获取参数的格式为：$n

  $#	传递到脚本的参数个数
	
  $*	以一个单字符串显示所有向脚本传递的参数。
	
  如&quot;$*&quot;用「&quot;」括起来的情况、以&quot;$1 $2 … $n&quot;的形式输出所有参数。
	

  如&quot;$@&quot;用「&quot;」括起来的情况、以&quot;$1&quot; &quot;$2&quot; … &quot;$n&quot; 的形式输出所有参数。
</code></pre>
</li>
</ul>
<h2 id="运算符">运算符</h2>
<ul>
<li>
<p>原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。
expr 是一款表达式计算工具，使用它能完成表达式的求值。例如，两个数相加(注意使用的是反引号 ` 而不是单引号 &lsquo;)：</p>
<pre><code>  #!/bin/bash
	
  val=`expr 2 + 2`
  echo &quot;两数之和为 : $val&quot;
</code></pre>
</li>
</ul>
<p>##echo
。。。没啥说的，就是显示
##printf</p>
<pre><code>printf &quot;%-10s %-8s %-4.2f\n&quot; 郭靖 男 66.1234 
</code></pre>
<p>##if
if condition1
then
command1
elif condition2
then
command2
else
commandN
fi</p>
<p>##for
for var in item1 item2 &hellip; itemN
do
command1
command2
&hellip;
commandN
done
##while
while condition
do
command
done</p>
<p>##函数</p>
<ul>
<li>
<p>使用</p>
</li>
<li>
<p>funWithReturn(){
echo &ldquo;这个函数会对输入的两个数字进行相加运算&hellip;&rdquo;
echo &ldquo;输入第一个数字: &quot;
read aNum
echo &ldquo;输入第二个数字: &quot;
read anotherNum
echo &ldquo;两个数字分别为 $aNum 和 $anotherNum !&rdquo;
return $(($aNum+$anotherNum))
}
funWithReturn
echo &ldquo;输入的两个数字之和为 $? !&rdquo;
#函数返回值在调用该函数后通过 $? 来获得</p>
</li>
<li>
<p>函数参数</p>
</li>
<li>
<p>funWithParam(){
echo &ldquo;第一个参数为 $1 !&rdquo;
echo &ldquo;第二个参数为 $2 !&rdquo;
echo &ldquo;第十个参数为 $10 !&rdquo;
echo &ldquo;第十个参数为 ${10} !&rdquo;
echo &ldquo;第十一个参数为 ${11} !&rdquo;
echo &ldquo;参数总数有 $# 个!&rdquo;
echo &ldquo;作为一个字符串输出所有参数 $* !&rdquo;
}
funWithParam 1 2 3 4 5 6 7 8 9 34 73</p>
</li>
</ul>
<p>##包含外部脚本，以便独立使用</p>
<ul>
<li>
<p>source 或者 .</p>
<pre><code>  #使用 . 号来引用test1.sh 文件
  . ./test1.sh
	
  # 或者使用以下包含文件代码
  # source ./test1.sh
</code></pre>
</li>
</ul>

  </div>
</div>

    </main>
    <div class="side-bar">
  
  <p class="mb-1 mt-1 text-left">
  
  <a
    href="/%E6%8A%80%E6%9C%AF/kotlin/"
    title="记录一些kotlin的用法"
  >
    <i class="nav-menu fas fa-chevron-circle-right"></i>
  </a>
  
</p>
<p class="mb-1 mt-1 text-left">
  
  <a
    href="/%E6%8A%80%E6%9C%AF/mysqlproblem/"
    title="记录类型转换引起的索引失效"
  >
    <i class="nav-menu fas fa-chevron-circle-left"></i>
  </a>
  
</p>

  
  <p class="mb-1 mt-1 text-left">
    <i
      class="nav-menu fas fa-chevron-circle-up"
      title="Scroll to top"
      onclick="scrollToTop()"
    ></i>
  </p>
  <p class="mb-1 mt-1 text-left">
    <i
      title="Copy URL to share"
      class="nav-menu fas fa-share-alt"
    ></i>
  </p>
</div>

<script>
  function displayCopyMessage(bool) {
    let alertMessage = "";
    if (bool) {
      alertMessage = "Link copied to clipboard";
    } else {
      alertMessage = "Link could not be copied to clipboard";
    }
    let copiedMessage = document.createElement("div");
    copiedMessage.id = "copiedMessage";
    copiedMessage.textContent = alertMessage;
    copiedMessage.classList.add(
      "bg-warning",
      "shadow",
      "d-block",
      "text-center"
    );
    document.body.appendChild(copiedMessage);

    setTimeout(function() {
      copiedMessage.style.opacity = 0;
    }, 500);
    setTimeout(function() {
      document.body.removeChild(copiedMessage);
    }, 1500);
  }

  let clipboard = new ClipboardJS(".fa-share-alt", {
    text: function() {
      return "https:\/\/justinbetter.github.io\/%E6%8A%80%E6%9C%AF\/shell\/";
    }
  });

  clipboard.on("success", function() {
    displayCopyMessage(true);
  });

  clipboard.on("error", function() {
    displayCopyMessage(false);
  });
</script>

    <footer class="d-flex flex-row flex-wrap justify-content-between">
  <div class="d-flex flex-column">
    <span class="mb-1">

    </span>
  </div>
  <p class="about text-left mb-0">
  </p>
</footer>

  </body>
</html>
